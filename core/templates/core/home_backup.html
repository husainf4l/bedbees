{% extends 'core/base.html' %}
{% load static %}

{% block title %}Bedbees - Read Reviews & Book Travel Experiences{% endblock %}

{% block content %}
<style>
:root {
    --primary-color: #00a680;
    --secondary-color: #589442;
    --accent-color: #e23744;
    --background-color: #f5f5f5;
    --text-color: #2d333f;
    --border-color: #e6e6e6;
}

.tripadvisor-style {
    font-family: 'Arial', sans-serif;
    background-color: var(--background-color);
    color: var(--text-color);
}

.hero-section {
    background: linear-gradient(135deg, #00a680 0%, #589442 100%);
    padding: 40px 0;
    text-align: center;
}

.search-container {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    padding: 24px;
    margin: 20px auto;
    max-width: 800px;
}

.search-tabs {
    display: flex;
    margin-bottom: 20px;
    border-bottom: 1px solid #e6e6e6;
}

.search-tab {
    padding: 12px 24px;
    border: none;
    background: none;
    cursor: pointer;
    font-weight: 500;
    color: #666;
    border-bottom: 2px solid transparent;
}

.search-tab.active {
    color: var(--primary-color);
    border-bottom-color: var(--primary-color);
}

.search-form {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr auto;
    gap: 12px;
    align-items: end;
}

.search-input {
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 14px;
}

.search-btn {
    background: var(--primary-color);
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 500;
}

.popular-destinations {
    padding: 40px 0;
    background: white;
}

.destination-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.destination-card {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    overflow: hidden;
    transition: box-shadow 0.3s;
}

.destination-card:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.destination-image {
    height: 150px;
    background-size: cover;
    background-position: center;
}

.destination-info {
    padding: 16px;
}

.reviews-section {
    padding: 40px 0;
    background: var(--background-color);
}

.review-card {
    background: white;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
}

.rating-stars {
    color: #ffd700;
    margin-bottom: 10px;
}

.attractions-section {
    padding: 40px 0;
    background: white;
}

.attraction-card {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    overflow: hidden;
    transition: transform 0.3s;
}

.attraction-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.attraction-image {
    height: 200px;
    background-size: cover;
    background-position: center;
}

.attraction-info {
    padding: 16px;
}

.attraction-rating {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
}

.attraction-rating .stars {
    color: #ffd700;
    margin-right: 8px;
}

.attraction-rating .reviews {
    color: #666;
    font-size: 14px;
}

.deals-section {
    padding: 40px 0;
    background: linear-gradient(135deg, #00a680 0%, #589442 100%);
    color: white;
    text-align: center;
}

.deal-card {
    background: rgba(255,255,255,0.1);
    border-radius: 8px;
    padding: 24px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
}

.footer-links {
    background: #2d333f;
    color: white;
    padding: 40px 0;
}

.footer-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.footer-section h3 {
    margin-bottom: 16px;
    font-size: 16px;
}

.footer-section ul {
    list-style: none;
    padding: 0;
}

.footer-section li {
    margin-bottom: 8px;
}

.footer-section a {
    color: #ccc;
    text-decoration: none;
}

.footer-section a:hover {
    color: white;
}

.hidden {
    display: none;
}
</style>

<!-- Hero Section with Search -->
<section class="hero-section">
    <div class="container mx-auto px-6">
        <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">Find your next trip</h1>
        <p class="text-xl text-white/90 mb-8">Search millions of reviews from travelers</p>

        <!-- TripAdvisor-style Search -->
        <div class="search-container">
            <div class="search-tabs">
                <button class="search-tab active" data-tab="hotels">Hotels</button>
                <button class="search-tab" data-tab="attractions">Things to Do</button>
                <button class="search-tab" data-tab="restaurants">Restaurants</button>
                <button class="search-tab" data-tab="flights">Flights</button>
            </div>

            <form class="search-form" id="hotels-search">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Destination</label>
                    <input type="text" class="search-input" placeholder="Where are you going?" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Check-in</label>
                    <input type="date" class="search-input" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Check-out</label>
                    <input type="date" class="search-input" required>
                </div>
                <button type="submit" class="search-btn">Search</button>
            </form>

            <form class="search-form hidden" id="attractions-search">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Destination</label>
                    <input type="text" class="search-input" placeholder="Where are you going?" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Date</label>
                    <input type="date" class="search-input" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Activity</label>
                    <select class="search-input">
                        <option>All Activities</option>
                        <option>Tours</option>
                        <option>Shows</option>
                        <option>Outdoor Activities</option>
                    </select>
                </div>
                <button type="submit" class="search-btn">Search</button>
            </form>
        </div>
    </div>
</section>

<!-- Popular Destinations -->
<section class="popular-destinations">
    <div class="container mx-auto px-6">
        <h2 class="text-3xl font-bold text-gray-900 mb-2">Popular destinations</h2>
        <p class="text-gray-600 mb-8">Travelers' Choice Awards winners</p>

        <div class="destination-grid">
            {% for country in countries|slice:":8" %}
            <div class="destination-card">
                <div class="destination-image" style="background-image: url('{{ country.image }}')"></div>
                <div class="destination-info">
                    <h3 class="text-lg font-semibold text-gray-900">{{ country.name }}</h3>
                    <p class="text-sm text-gray-600">{{ country.accommodations_count }} properties</p>
                    <div class="rating-stars">
                        {% for i in "12345" %}★{% endfor %}
                        <span class="text-sm text-gray-600 ml-1">4.5</span>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="text-center mt-8">
            <a href="{% url 'countries' %}" class="text-green-600 font-medium hover:underline">See all destinations →</a>
        </div>
    </div>
</section>

<!-- Latest Reviews -->
<section class="reviews-section">
    <div class="container mx-auto px-6">
        <h2 class="text-3xl font-bold text-gray-900 mb-2">Latest reviews</h2>
        <p class="text-gray-600 mb-8">Read what travelers are saying</p>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Review 1 -->
            <div class="review-card">
                <div class="rating-stars">★★★★★</div>
                <h4 class="font-semibold text-gray-900 mb-2">Amazing desert experience!</h4>
                <p class="text-gray-700 text-sm mb-3">"The desert safari was incredible. Our guide was knowledgeable and the dune bashing was thrilling. Highly recommend!"</p>
                <div class="flex items-center justify-between text-sm">
                    <span class="text-gray-600">Dubai Desert Safari</span>
                    <span class="text-gray-500">2 days ago</span>
                </div>
            </div>

            <!-- Review 2 -->
            <div class="review-card">
                <div class="rating-stars">★★★★☆</div>
                <h4 class="font-semibold text-gray-900 mb-2">Great hotel with excellent service</h4>
                <p class="text-gray-700 text-sm mb-3">"Beautiful property with stunning views. The staff was incredibly helpful and the breakfast was amazing."</p>
                <div class="flex items-center justify-between text-sm">
                    <span class="text-gray-600">Luxury Beach Resort</span>
                    <span class="text-gray-500">1 week ago</span>
                </div>
            </div>

            <!-- Review 3 -->
            <div class="review-card">
                <div class="rating-stars">★★★★★</div>
                <h4 class="font-semibold text-gray-900 mb-2">Unforgettable cooking class</h4>
                <p class="text-gray-700 text-sm mb-3">"Learned so much about Middle Eastern cuisine. The chef was passionate and the food was delicious!"</p>
                <div class="flex items-center justify-between text-sm">
                    <span class="text-gray-600">Middle Eastern Cooking Class</span>
                    <span class="text-gray-500">3 days ago</span>
                </div>
            </div>
        </div>

        <div class="text-center mt-8">
            <a href="#" class="text-green-600 font-medium hover:underline">Read more reviews →</a>
        </div>
    </div>
</section>

<!-- Top Attractions -->
<section class="attractions-section">
    <div class="container mx-auto px-6">
        <h2 class="text-3xl font-bold text-gray-900 mb-2">Top things to do</h2>
        <p class="text-gray-600 mb-8">Popular activities and experiences</p>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            {% for tour in tours|slice:":8" %}
            <div class="attraction-card">
                <div class="attraction-image" style="background-image: url('{% if tour.tourphoto_set.all|length > 0 %}{{ tour.tourphoto_set.first.original_file }}{% else %}https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80{% endif %}')"></div>
                <div class="attraction-info">
                    <h3 class="text-lg font-semibold text-gray-900 mb-1">{{ tour.tour_name }}</h3>
                    <div class="attraction-rating">
                        <div class="stars">★★★★★</div>
                        <span class="reviews">{{ tour.tour_category|title }}</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-2">{{ tour.city }}, {{ tour.country }}</p>
                    <div class="text-lg font-bold text-green-600">${{ tour.price_per_person }}</div>
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="text-center mt-8">
            <a href="{% url 'tours' %}" class="text-green-600 font-medium hover:underline">See all things to do →</a>
        </div>
    </div>
</section>

<!-- Travel Deals -->
<section class="deals-section">
    <div class="container mx-auto px-6">
        <h2 class="text-3xl font-bold text-white mb-2">Travel deals</h2>
        <p class="text-white/90 mb-8">Save on your next trip</p>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="deal-card">
                <h3 class="text-xl font-bold mb-2">Early Bird Special</h3>
                <p class="mb-4">Book 60 days in advance and save up to 25%</p>
                <div class="text-2xl font-bold">25% OFF</div>
            </div>

            <div class="deal-card">
                <h3 class="text-xl font-bold mb-2">Group Discounts</h3>
                <p class="mb-4">Special rates for groups of 4 or more</p>
                <div class="text-2xl font-bold">20% OFF</div>
            </div>

            <div class="deal-card">
                <h3 class="text-xl font-bold mb-2">Loyalty Rewards</h3>
                <p class="mb-4">Earn points on every booking</p>
                <div class="text-2xl font-bold">FREE NIGHT</div>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="footer-links">
    <div class="container mx-auto px-6">
        <div class="footer-grid">
            <div class="footer-section">
                <h3>About Bedbees</h3>
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Press</a></li>
                    <li><a href="#">Resources</a></li>
                    <li><a href="#">Careers</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Help</h3>
                <ul>
                    <li><a href="#">Help Center</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">Safety Information</a></li>
                    <li><a href="#">Terms of Use</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Travelers</h3>
                <ul>
                    <li><a href="#">Write a Review</a></li>
                    <li><a href="#">Trip Planner</a></li>
                    <li><a href="#">Travel Articles</a></li>
                    <li><a href="#">Travel Forums</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Businesses</h3>
                <ul>
                    <li><a href="#">Add Your Business</a></li>
                    <li><a href="#">Business Center</a></li>
                    <li><a href="#">Advertise</a></li>
                    <li><a href="#">API</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>

<script>
// Tab switching functionality
document.addEventListener('DOMContentLoaded', function() {
    const tabs = document.querySelectorAll('.search-tab');
    const forms = document.querySelectorAll('.search-form');

    tabs.forEach(tab => {
        tab.addEventListener('click', function() {
            // Remove active class from all tabs
            tabs.forEach(t => t.classList.remove('active'));
            // Add active class to clicked tab
            this.classList.add('active');

            // Hide all forms
            forms.forEach(f => f.classList.add('hidden'));

            // Show corresponding form
            const tabType = this.getAttribute('data-tab');
            document.getElementById(tabType + '-search').classList.remove('hidden');
        });
    });
});
</script>

{% endblock %}